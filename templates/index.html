<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Joint Path Planner</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>Joint Path Planner</h1>
  <p class="subtitle">UR5e demo — simple goal-biased planning UI</p>

  <form class="card" method="post" action="{{ url_for('results') }}">
    <label>Number of Waypoints
      <input type="number" name="n_waypoints" value="20" min="2" max="200" required>
    </label>

    <label>Start Joints (deg)
      <textarea name="start_deg" placeholder="-90, -45, 0, 0, 45, 0"></textarea>
      <small>6 numbers separated by spaces or commas</small>
    </label>

    <label>Target Joints (deg)
      <textarea name="goal_deg" placeholder="80, -90, -90, -90, 90, 0"></textarea>
    </label>

    <label>Obstacles (mm)
      <textarea name="boxes" placeholder="cx cy cz L W H — one line per box"></textarea>
      <small>Tip: if Z=0 is floor, set cz = H/2 so the box sits on the floor.</small>
    </label>

    <details class="advanced">
      <summary>Advanced</summary>
      <div class="grid-2">
        <label>Max Iters <input type="number" name="max_iters" value="2000"></label>
        <label>Step (rad) <input type="number" step="0.01" name="step_rad" value="0.05"></label>
        <label>Goal Bias <input type="number" step="0.01" name="bias" value="0.2"></label>
        <label>Safety Margin (m) <input type="number" step="0.001" name="safety_margin_m" value="0.003"></label>
        <label>Shortcut Passes <input type="number" name="shortcut_passes" value="30"></label>
      </div>
    </details>

    <button class="btn-primary" type="submit">Find Waypoints</button>
  </form>

  <footer class="foot">
    <a href="/healthz" class="mini-link">healthz</a>
  </footer>
</body>
</html>
